<div class="page-header">
  <img src="../../assets/logo.jpg">
  <hr>
</div>
<div class="page-container">
  <div class="transfer-container md-col-2">
    <div class="container-header">
      Make a Transfer
    </div>
    <form *ngIf="!previewPage" [formGroup]="userForm">
      FROM ACCOUNT <input formControlName="fromAccount" placeholder="">
      TO ACCOUNT <input formControlName="toAccount" placeholder="Please enter an account">
      AMOUNT <input formControlName="dollarAmount" placeholder="$ 0.00">
      <span *ngIf="userForm.controls.dollarAmount?.errors" style="color: red;">
        {{errorMessage}}
      </span>
      <button class="submit-button"
        [ngStyle]="{'margin-top': userForm.controls.dollarAmount?.errors ? '10px' : '20px'}"
        type="submit" (click)="onSubmitForm()">Submit</button>
    </form>
    <div *ngIf="previewPage" class="preview-page">
      <table>
        <tr>From:
          <td>{{checkingAccountName}}</td>
        </tr>
        <tr>Amount:
          <td>{{dollarAmount | currency:'USD'}}</td>
        </tr>
        <tr>To:
          <td>{{recipientAccount}}</td>
        </tr>
      </table>
      <!-- <h5>
        You are transferring ${{dollarAmount}} from <br>{{checkingAccountName}} to <br>{{recipientAccount}}.
        <br>
        <br>
        Please click Transfer to proceed or Cancel to return.
      </h5> -->
      <h4>
        Please click Transfer to proceed or Cancel to return.
      </h4>
      <button class="cancel-button" type="reset" (click)="onCancel()">Cancel</button>
      <button class="transfer-button" type="submit" (click)="onTransfer()">Transfer</button>
    </div>
  </div>
  <div *ngIf="transactionData" class="recent-transactions md-col-6">
    <div class="container-header">
      Recent Transactions
    </div>
    <div class="top-row">
      <div class="input-field">
        <input class="search-input" #searchField type="text" (keyup)="onSearch($event)"
          placeholder="Search by typing...">
        <span><button class="clear-button" (click)="onSearch('')">&times;</button></span>
      </div>
      <div class="sort-buttons">
        Sort by
        <button (click)="sortTransactions('date')">DATE <span style="color: lightgray;">&#9660;</span></button>
        <button (click)="sortTransactions('beneficiary')">BENEFICIARY </button>
        <button (click)="sortTransactions('amount')">AMOUNT </button>
      </div>
    </div>
    <table>
      <tr *ngFor="let item of transactionData">
        <td>
          {{item.dates.valueDate | date: 'yyyy-MM-dd'}}
        </td>
        <td>
          {{ item.merchant.name }} <br>
          <p> {{ item.transaction.type}}
          </p>
        </td>
        <td>
          {{ item.transaction.amountCurrency.amount }}
        </td>
      </tr>
    </table>
  </div>
</div>
