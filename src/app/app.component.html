<div class="page-header">
  <img src="../../assets/logo.jpg">
  <hr>
</div>
<div class="page-container">
  <div class="transfer-container md-col-2">
    <div class="container-header">
      Make a Transfer
    </div>
    <form *ngIf="!previewPage" [formGroup]="userForm">
      FROM ACCOUNT <input formControlName="fromAccount" placeholder="">
      TO ACCOUNT <input formControlName="toAccount" placeholder="Please enter an account">
      AMOUNT <input formControlName="dollarAmount" placeholder="$ 0.00">
      <span *ngIf="userForm.controls.dollarAmount?.errors?.invalidAmount" style="color: red;">
        Amount exceeds $500 overdraft limit.
      </span>
      <button class="submit-button" type="submit" (click)="onSubmitForm()">Submit</button>
    </form>
    <div *ngIf="previewPage" class="preview-page">
      <h3>
        You are transferring ${{dollarAmount}} from {{checkingAccountName}} to {{recipientAccount}}.

        Please click Transfer to proceed or Cancel to return.
      </h3>
      <button type="submit" (click)="onCancel()" style="background-color: white; color: black;">Cancel</button>
      <button type="submit" (click)="onTransfer()">Transfer</button>
    </div>
  </div>
  <div *ngIf="transactionData" class="recent-transactions md-col-6">
    <div class="container-header">
      Recent Transactions
    </div>
    <input class="search-input" placeholder="Search by typing">
    <span>Sort by
      <button (click)="sortTransactions('date')">Date </button>
      <button (click)="sortTransactions('beneficiary')">Beneficiary </button>
      <button (click)="sortTransactions('amount')">Amount </button>
    </span>

    <table>
      <tr *ngFor="let item of transactionData">
        <td>
          {{item.dates.valueDate | date: 'yyyy-MM-dd'}}
        </td>
        <td>
          {{ item.merchant.name }} <br>
          <p> {{ item.transaction.type}}
          </p>
        </td>
        <td>
          {{ item.transaction.amountCurrency.amount }}
        </td>
      </tr>
    </table>
  </div>
</div>
